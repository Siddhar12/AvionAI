<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Medical Chatbot</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url('/api/placeholder/1920/1080') center/cover fixed;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            color: #333;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url('D:/Main Project/Main Project/images/sliderimg1.jpg') center/cover fixed;
        }

        .chat-container {
            width: 400px;
            background-color: #8BC6EC;
            background-image: radial-gradient(circle, rgba(238,174,202,1) 3%, rgba(132,141,216,1) 57%, rgba(34,110,228,1) 100%);
            border-radius: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
            overflow: hidden;
            transform: translateY(0);
            transition: transform 0.3s ease;
        }

        .chat-container:hover {
            transform: translateY(-5px);
        }

        .chat-header {
            background: linear-gradient(135deg, #578a8a, #006666);
            color: white;
            padding: 20px;
            text-align: center;
            font-size: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-bottom: 3px solid rgba(255, 255, 255, 0.1);
        }

        .chat-header img {
            width: 35px;
            height: 35px;
            margin-right: 12px;
            border-radius: 50%;
            border: 2px solid white;
            padding: 2px;
        }

        .chat-box {
            padding: 20px;
            height: 350px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            background: wheat;

            scroll-behavior: smooth;
        }

        .chat-box::-webkit-scrollbar {
            width: 6px;
        }

        .chat-box::-webkit-scrollbar-thumb {
            background: #008080;
            border-radius: 3px;
        }

        .chat-message {
            padding: 12px 16px;
            border-radius: 15px;
            margin-bottom: 12px;
            max-width: 80%;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .user-message {
            background: linear-gradient(135deg, #8e1010, #d50303);
            color: white;
            align-self: flex-end;
            border-bottom-right-radius: 5px;
        }

        .bot-message {
            background: #f0f0f0;
            align-self: flex-start;
            border-bottom-left-radius: 5px;
        }

        .chat-input {
            display: flex;
            padding: 15px;
            border-top: 1px solid rgba(0, 128, 128, 0.2);
            background: rgba(255, 255, 255, 0.95);
        }

        .chat-input input {
            flex: 1;
            padding: 12px 15px;
            border: 2px solid rgba(0, 128, 128, 0.3);
            border-radius: 25px;
            outline: none;
            font-size: 14px;
            transition: border-color 0.3s ease;
        }

        .chat-input input:focus {
            border-color: #008080;
        }

        .chat-input button {
            background: linear-gradient(135deg, #008080, #006666);
            color: white;
            border: none;
            padding: 12px 25px;
            margin-left: 10px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 600;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        .chat-input button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
        }

        .chat-input button:active {
            transform: translateY(0);
        }

        /* Round floating back button */
        .back-button {
            position: fixed;
            top: 20px;
            left: 20px;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: linear-gradient(135deg, #008080, #006666);
            color: white;
            border: none;
            cursor: pointer;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            z-index: 1000;
        }

        .back-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.3);
        }

        .back-button:active {
            transform: translateY(0);
        }
    </style>
</head>
<body>
    <!-- Back Button -->
    <button class="back-button" onclick="window.location.href='./AvionAi.html'">‚Üê</button>

    <div class="chat-container">
        <div class="chat-header">
            <img src="D:\Main Project\Main Project\images\chatbot.jpg" alt="Bird Logo"> 
            ü¶ú AVION Chatbot ü¶ú
        </div>
        <div class="chat-box" id="chat-box"></div>
        <div class="chat-input">
            <input type="text" id="user-input" placeholder="Ask AVION about birds...">
            <button onclick="sendMessage()">Send</button>
        </div>
    </div>

    <script>
        // Your existing script remains exactly the same
        async function sendMessage() {
            const inputField = document.getElementById("user-input");
            const message = inputField.value;
            if (!message) return;
            
            const chatBox = document.getElementById("chat-box");
            chatBox.innerHTML += `<div class='chat-message user-message'>${message}</div>`;
            inputField.value = "";
            
            const response = await fetch("https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=AIzaSyBTT-HpVwM7sB1nyN4Vcnd9d7ekdRlXjnU", {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({
                    "contents": [
                        {"role": "user", "parts": [{"text": "hi\n"}]},
                        {"role": "model", "parts": [{"text": "Hi there! How can I help you with a medical question today?\n"}]},
                        {"role": "user", "parts": [{"text": message}]}
                    ],
                    "systemInstruction": {
                        "role": "user",
                        "parts": [{"text": "You are an expert ornithologist chatbot designed to provide detailed yet concise information about bird species. Your purpose is to answer only bird-related questions and politely decline any unrelated queries. When a user asks about a bird, provide a structured yet brief response that includes the bird's common and scientific name, its color and appearance, natural habitat and geographic location, average lifespan, diet and feeding habits, and any unique traits or behaviors. Ensure the response is informative but not overly lengthy, delivering essential facts in a clear and engaging manner. If a user asks about a non-bird topic, politely inform them that you specialize only in birds"}]
                    },
                    "generationConfig": {
                        "temperature": 1,
                        "topK": 40,
                        "topP": 0.95,
                        "maxOutputTokens": 8192,
                        "responseMimeType": "text/plain"
                    }
                })
            });
            
            const data = await response.json();
            const botReply = data?.candidates?.[0]?.content?.parts?.[0]?.text || "Error: No response";
            chatBox.innerHTML += `<div class='chat-message bot-message'>${botReply}</div>`;
            chatBox.scrollTop = chatBox.scrollHeight;
        }
    </script>
</body>
</html>